document.addEventListener("DOMContentLoaded",function(){var e=function(e,t){var a=t.nextElementSibling,n="",l=null,s=JsDiff.diffLines(e.innerHTML,t.innerHTML),o=document.createDocumentFragment();s.forEach(function(e){var t,a;n=e.added?"#a6f3a6":e.removed?"#f8cbcb":"",(l=document.createElement("pre")).style.backgroundColor=n,l.className="diffview",l.appendChild(document.createTextNode((t=e.value,a={"&amp;":"&","&#038;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"’","&#8216;":"‘","&#8211;":"–","&#8212;":"—","&#8230;":"…","&#8221;":"”"},t.replace(/\&[\w\d\#]{2,5}\;/g,function(e){return a[e]})))),o.appendChild(l)}),a.appendChild(o)},t=document.getElementById("override-pane"),a=document.getElementById("core-pane"),n=document.getElementById("diff-main"),l=[].slice.call(document.querySelectorAll("[onclick-task]")),s=document.getElementById("conditional-section");0!==l.length?(l.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),function(e){var l=e.target.getAttribute("onclick-task");if("template.show.core"===l){if(a){"none"===a.style.display?(e.target.className="btn btn-success",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_HIDE_CORE"),a.style.display="block",t.className="col-md-6",Joomla.editors.instances.jform_core.refresh()):(e.target.className="btn btn-danger",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_SHOW_CORE"),a.style.display="none",t.className="col-md-12");var s={class:e.target.className,title:e.target.innerHTML,display:a.style.display,overrideClass:t.className};"undefined"!=typeof Storage&&localStorage.setItem("coreButtonState",JSON.stringify(s))}}else if("template.show.diff"===l&&n){"none"===n.style.display?(e.target.className="btn btn-success",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_HIDE_DIFF"),n.style.display="block"):(e.target.className="btn btn-danger",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_SHOW_DIFF"),n.style.display="none");var o={class:e.target.className,title:e.target.innerHTML,display:n.style.display};"undefined"!=typeof Storage&&localStorage.setItem("diffButtonState",JSON.stringify(o))}}(e)})}),function(){if("undefined"!=typeof Storage){var e=JSON.parse(localStorage.getItem("coreButtonState")),s=JSON.parse(localStorage.getItem("diffButtonState"));null!==e&&(l[0].className=e.class,l[0].innerHTML=e.title,a.style.display=e.display,t.className=e.overrideClass),null!==s&&(l[1].className=s.class,l[1].innerHTML=s.title,n.style.display=s.display)}}()):t&&s&&(s.className="col-md-12",t.className="col-md-12");for(var o=[].slice.call(document.querySelectorAll("#original")),i=0,r=o.length;i<r;i+=1)e(o[i],o[i].nextElementSibling)});