document.addEventListener("DOMContentLoaded",()=>{const e=function(e,t){const o=t.nextElementSibling;let c="",s=null;const n=JsDiff.diffLines(e.innerHTML,t.innerHTML),a=document.createDocumentFragment();n.forEach(e=>{c=e.added?"#a6f3a6":e.removed?"#f8cbcb":"",(s=document.createElement("pre")).style.backgroundColor=c,s.className="diffview",s.appendChild(document.createTextNode(function(e){const t={"&amp;":"&","&#038;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"’","&#8216;":"‘","&#8211;":"–","&#8212;":"—","&#8230;":"…","&#8221;":"”"};return e.replace(/\&[\w\d\#]{2,5}\;/g,e=>t[e])}(e.value))),a.appendChild(s)}),o.appendChild(a)},t=document.getElementById("override-pane"),o=document.getElementById("core-pane"),c=document.getElementById("diff-main"),s=document.getElementById("conditional-section"),n=document.getElementById("jform_show_core"),a=document.getElementById("jform_show_diff");n&&o&&n.addEventListener("change",e=>{const c=o.style.display;"none"===c&&"jform_show_core1"===e.target.id?(o.style.display="block",t.className="col-md-6",Joomla.editors.instances.jform_core.refresh()):"block"===c&&"jform_show_core0"===e.target.id&&(o.style.display="none",t.className="col-md-12");const s={activeSwitch:e.target.id};"undefined"!=typeof Storage&&localStorage.setItem("coreSwitchState",JSON.stringify(s))}),a&&c&&a.addEventListener("change",e=>{const t=c.style.display;"none"===t&&"jform_show_diff1"===e.target.id?c.style.display="block":"block"===t&&"jform_show_diff0"===e.target.id&&(c.style.display="none");const o={activeSwitch:e.target.id};"undefined"!=typeof Storage&&localStorage.setItem("diffSwitchState",JSON.stringify(o))}),n||a?function(){if("undefined"!=typeof Storage){const e=JSON.parse(localStorage.getItem("coreSwitchState")),s=JSON.parse(localStorage.getItem("diffSwitchState"));let i="jform_show_core0",d="jform_show_diff0";void 0!==e.activeSwitch&&(i=e.activeSwitch),"jform_show_core0"===i&&n?(o.style.display="none",t.className="col-md-12"):"jform_show_core1"===i&&n&&(o.style.display="block",t.className="col-md-6",setTimeout(()=>{n.inputs[1].parentNode.classList.add("active"),n.inputs[1].checked=!0,n.inputs[0].checked=!1,n.spans[0].classList.remove("active"),n.spans[1].classList.add("active")},500)),void 0!==s.activeSwitch&&(d=s.activeSwitch),"jform_show_diff0"===d&&a?c.style.display="none":"jform_show_diff1"===d&&a&&(c.style.display="block",setTimeout(()=>{a.inputs[1].parentNode.classList.add("active"),a.inputs[1].checked=!0,a.inputs[0].checked=!1,a.spans[0].classList.remove("active"),a.spans[1].classList.add("active")},500))}}():t&&s&&(s.className="col-md-12",t.className="col-md-12");const i=[].slice.call(document.querySelectorAll("#original"));for(let t=0,o=i.length;t<o;t+=1)e(i[t],i[t].nextElementSibling)});