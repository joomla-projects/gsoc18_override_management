Joomla=window.Joomla||{};Joomla.editors=Joomla.editors||{};Joomla.editors.instances=Joomla.editors.instances||{};Joomla.Modal={current:"",setCurrent:function(element){this.current=element},getCurrent:function(){return this.current}};(function(Joomla,document){"use strict";Joomla.submitform=function(task,form,validate){if(!form){form=document.getElementById("adminForm")}if(task){form.task.value=task}form.noValidate=!validate;if(!validate){form.setAttribute("novalidate","")}else if(form.hasAttribute("novalidate")){form.removeAttribute("novalidate")}var button=document.createElement("input");button.style.display="none";button.type="submit";form.appendChild(button).click();form.removeChild(button)};Joomla.submitbutton=function(task,formSelector,validate){var form=document.querySelector(formSelector||"form.form-validate");if(form){if(validate===undefined||validate===null){var pressbutton=task.split("."),cancelTask=form.getAttribute("data-cancel-task");if(!cancelTask){cancelTask=pressbutton[0]+".cancel"}validate=task!==cancelTask}if(!validate||document.formvalidator.isValid(form)){Joomla.submitform(task,form)}}else{Joomla.submitform(task)}};Joomla.JText={strings:{},_:function(key,def){var newStrings=Joomla.getOptions("joomla.jtext");if(newStrings){this.load(newStrings);Joomla.loadOptions({"joomla.jtext":null})}def=def===undefined?"":def;key=key.toUpperCase();return this.strings[key]!==undefined?this.strings[key]:def},load:function(object){for(var key in object){if(!object.hasOwnProperty(key))continue;this.strings[key.toUpperCase()]=object[key]}return this}};Joomla.optionsStorage=Joomla.optionsStorage||null;Joomla.getOptions=function(key,def){if(!Joomla.optionsStorage){Joomla.loadOptions()}return Joomla.optionsStorage[key]!==undefined?Joomla.optionsStorage[key]:def};Joomla.loadOptions=function(options){if(!options){var elements=document.querySelectorAll(".joomla-script-options.new"),str,element,option,counter=0;for(var i=0,l=elements.length;i<l;i++){element=elements[i];str=element.text||element.textContent;option=JSON.parse(str);if(option){Joomla.loadOptions(option);counter++}element.className=element.className.replace(" new"," loaded")}if(counter){return}}if(!Joomla.optionsStorage){Joomla.optionsStorage=options||{}}else if(options){for(var p in options){if(options.hasOwnProperty(p)){if(options[p]!==null&&typeof Joomla.optionsStorage[p]==="object"&&typeof options[p]==="object"){Joomla.optionsStorage[p]=Joomla.extend(Joomla.optionsStorage[p],options[p])}else{Joomla.optionsStorage[p]=options[p]}}}}};Joomla.replaceTokens=function(newToken){if(!/^[0-9A-F]{32}$/i.test(newToken)){return}var els=document.getElementsByTagName("input"),i,el,n;for(i=0,n=els.length;i<n;i++){el=els[i];if(el.type=="hidden"&&el.value=="1"&&el.name.length==32){el.name=newToken}}};Joomla.isEmail=function(text){var regex=/^[\w.!#$%&‚Äô*+\/=?^`{|}~-]+@[a-z0-9-]+(?:\.[a-z0-9-]{2,})+$/i;return regex.test(text)};Joomla.checkAll=function(checkbox,stub){if(!checkbox.form)return false;stub=stub?stub:"cb";var c=0,i,e,n;for(i=0,n=checkbox.form.elements.length;i<n;i++){e=checkbox.form.elements[i];if(e.type==checkbox.type&&e.id.indexOf(stub)===0){e.checked=checkbox.checked;c+=e.checked?1:0}}if(checkbox.form.boxchecked){checkbox.form.boxchecked.value=c;Joomla.Event.dispatch(checkbox.form.boxchecked,"change")}return true};Joomla.renderMessages=function(messages,selector,keepOld,timeout){var messageContainer,type,typeMessages,messagesBox,title,titleWrapper,i,messageWrapper,alertClass;if(typeof selector==="undefined"||selector&&selector==="#system-message-container"){messageContainer=document.getElementById("system-message-container")}else{messageContainer=document.querySelector(selector)}if(typeof keepOld==="undefined"||keepOld&&keepOld===false){Joomla.removeMessages(messageContainer)}for(type in messages){if(!messages.hasOwnProperty(type)){continue}typeMessages=messages[type];if(typeof window.customElements==="object"&&typeof window.customElements.get("joomla-alert")==="function"){messagesBox=document.createElement("joomla-alert");if(["notice","message","error"].indexOf(type)>-1){alertClass=type==="notice"?"info":type;alertClass=type==="message"?"success":alertClass;alertClass=type==="error"?"danger":alertClass}else{alertClass="info"}messagesBox.setAttribute("type",alertClass);messagesBox.setAttribute("dismiss","true");if(timeout&&parseInt(timeout)>0){messagesBox.setAttribute("autodismiss",timeout)}}else{messagesBox=document.createElement("div");if(["notice","message","error"].indexOf(type)>-1){alertClass=type==="notice"?"info":type;alertClass=type==="message"?"success":alertClass;alertClass=type==="error"?"danger":alertClass}else{alertClass="info"}messagesBox.className="alert "+alertClass;var buttonWrapper=document.createElement("button");buttonWrapper.setAttribute("type","button");buttonWrapper.setAttribute("data-dismiss","alert");buttonWrapper.className="close";buttonWrapper.innerHTML="×";messagesBox.appendChild(buttonWrapper)}title=Joomla.JText._(type);if(typeof title!="undefined"){titleWrapper=document.createElement("h4");titleWrapper.className="alert-heading";titleWrapper.innerHTML=Joomla.JText._(type)?Joomla.JText._(type):type;messagesBox.appendChild(titleWrapper)}for(i=typeMessages.length-1;i>=0;i--){messageWrapper=document.createElement("div");messageWrapper.innerHTML=typeMessages[i];messagesBox.appendChild(messageWrapper)}messageContainer.appendChild(messagesBox);if(typeof window.customElements!=="object"&&typeof window.customElements.get("joomla-alert")!=="function"){if(timeout&&parseInt(timeout)>0){setTimeout(function(){Joomla.removeMessages(messageContainer)},timeout)}}}};Joomla.removeMessages=function(container){var messageContainer;if(container){messageContainer=container}else{messageContainer=document.getElementById("system-message-container")}if(typeof window.customElements==="object"&&window.customElements.get("joomla-alert")){var messages=messageContainer.querySelectorAll("joomla-alert");if(messages.length){for(var i=0,l=messages.length;i<l;i++){messages[i].close()}}}else{while(messageContainer.firstChild)messageContainer.removeChild(messageContainer.firstChild);messageContainer.style.display="none";messageContainer.offsetHeight;messageContainer.style.display=""}};Joomla.ajaxErrorsMessages=function(xhr,textStatus,error){var msg={};if(textStatus==="parsererror"){var encodedJson=xhr.responseText.trim();var buf=[];for(var i=encodedJson.length-1;i>=0;i--){buf.unshift(["&#",encodedJson[i].charCodeAt(),";"].join(""))}encodedJson=buf.join("");msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_PARSE").replace("%s",encodedJson)]}else if(textStatus==="nocontent"){msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_NO_CONTENT")]}else if(textStatus==="timeout"){msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_TIMEOUT")]}else if(textStatus==="abort"){msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_CONNECTION_ABORT")]}else if(xhr.responseJSON&&xhr.responseJSON.message){msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_OTHER").replace("%s",xhr.status)+" <em>"+xhr.responseJSON.message+"</em>"]}else if(xhr.statusText){msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_OTHER").replace("%s",xhr.status)+" <em>"+xhr.statusText+"</em>"]}else{msg.error=[Joomla.JText._("JLIB_JS_AJAX_ERROR_OTHER").replace("%s",xhr.status)]}return msg};Joomla.isChecked=function(isitchecked,form){if(typeof form==="undefined"){form=document.getElementById("adminForm")}form.boxchecked.value=isitchecked?parseInt(form.boxchecked.value)+1:parseInt(form.boxchecked.value)-1;Joomla.Event.dispatch(form.boxchecked,"change");if(!form.elements["checkall-toggle"])return;var c=true,i,e,n;for(i=0,n=form.elements.length;i<n;i++){e=form.elements[i];if(e.type=="checkbox"&&e.name!="checkall-toggle"&&!e.checked){c=false;break}}form.elements["checkall-toggle"].checked=c};Joomla.tableOrdering=function(order,dir,task,form){if(typeof form==="undefined"){form=document.getElementById("adminForm")}form.filter_order.value=order;form.filter_order_Dir.value=dir;Joomla.submitform(task,form)};window.getSelectedValue=function(frmName,srcListName){var srcList=document[frmName][srcListName],i=srcList.selectedIndex;if(i!==null&&i>-1){return srcList.options[i].value}else{return null}};window.listItemTask=function(id,task){return Joomla.listItemTask(id,task)};Joomla.listItemTask=function(id,task){var f=document.adminForm,i=0,cbx,cb=f[id];if(!cb)return false;while(true){cbx=f["cb"+i];if(!cbx)break;cbx.checked=false;i++}cb.checked=true;f.boxchecked.value=1;window.submitform(task);return false};window.submitbutton=function(pressbutton){Joomla.submitbutton(pressbutton)};window.submitform=function(pressbutton){Joomla.submitform(pressbutton)};window.saveorder=function(n,task){window.checkAll_button(n,task)};window.checkAll_button=function(n,task){task=task?task:"saveorder";var j,box;for(j=0;j<=n;j++){box=document.adminForm["cb"+j];if(box){box.checked=true}else{alert("You cannot change the order of items, as an item in the list is `Checked Out`");return}}Joomla.submitform(task)};Joomla.loadingLayer=function(task,parentElement){task=task||"show";parentElement=parentElement||document.body;if(task==="load"){var systemPaths=Joomla.getOptions("system.paths")||{},basePath=systemPaths.root||"";var loadingDiv=document.createElement("div");loadingDiv.id="loading-logo";loadingDiv.style["position"]="fixed";loadingDiv.style["top"]="0";loadingDiv.style["left"]="0";loadingDiv.style["width"]="100%";loadingDiv.style["height"]="100%";loadingDiv.style["opacity"]="0.8";loadingDiv.style["filter"]="alpha(opacity=80)";loadingDiv.style["overflow"]="hidden";loadingDiv.style["z-index"]="10000";loadingDiv.style["display"]="none";loadingDiv.style["background-color"]="#fff";loadingDiv.style["background-image"]='url("'+basePath+'/media/system/images/ajax-loader.gif")';loadingDiv.style["background-position"]="center";loadingDiv.style["background-repeat"]="no-repeat";loadingDiv.style["background-attachment"]="fixed";parentElement.appendChild(loadingDiv)}else{if(!document.getElementById("loading-logo")){Joomla.loadingLayer("load",parentElement)}document.getElementById("loading-logo").style["display"]=task=="show"?"block":"none"}return document.getElementById("loading-logo")};Joomla.extend=function(destination,source){if(destination===null){destination={}}for(var p in source){if(source.hasOwnProperty(p)){destination[p]=source[p]}}return destination};Joomla.request=function(options){options=Joomla.extend({url:"",method:"GET",data:null,perform:true},options);try{var xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");xhr.open(options.method,options.url,true);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-Ajax-Engine","Joomla!");if(options.method!=="GET"){var token=Joomla.getOptions("csrf.token","");if(token){xhr.setRequestHeader("X-CSRF-Token",token)}if(!options.headers||!options.headers["Content-Type"]){xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}}if(options.headers){for(var p in options.headers){if(options.headers.hasOwnProperty(p)){xhr.setRequestHeader(p,options.headers[p])}}}xhr.onreadystatechange=function(){if(xhr.readyState!==4)return;if(xhr.status===200){if(options.onSuccess){options.onSuccess.call(window,xhr.responseText,xhr)}}else if(options.onError){options.onError.call(window,xhr)}};if(options.perform){if(options.onBefore&&options.onBefore.call(window,xhr)===false){return xhr}xhr.send(options.data)}}catch(error){window.console?console.log(error):null;return false}return xhr};Joomla.localStorageEnabled=function(){var test="joomla-cms";try{localStorage.setItem(test,test);localStorage.removeItem(test);return true}catch(e){return false}};Joomla.WebComponents=function(){var wc=Joomla.getOptions("webcomponents");if(!wc||!wc.length){return}var polyfillsLoaded=false;var whenLoadedFns=[];var allowUpgrades=false;var flushFn;var fireEvent=function(){window.WebComponents.ready=true;document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:true}));loadWC()};var batchCustomElements=function(){if(window.customElements&&customElements.polyfillWrapFlushCallback){customElements.polyfillWrapFlushCallback(function(flushCallback){flushFn=flushCallback;if(allowUpgrades){flushFn()}})}};var asyncReady=function(){batchCustomElements();ready()};var ready=function(){if(window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap){HTMLTemplateElement.bootstrap(window.document)}polyfillsLoaded=true;runWhenLoadedFns().then(fireEvent)};var runWhenLoadedFns=function(){allowUpgrades=false;var done=function(){allowUpgrades=true;whenLoadedFns.length=0;flushFn&&flushFn()};return Promise.all(whenLoadedFns.map(function(fn){return fn instanceof Function?fn():fn})).then(function(){done()}).catch(function(err){console.error(err)})};window.WebComponents=window.WebComponents||{ready:false,_batchCustomElements:batchCustomElements,waitFor:function(waitFn){if(!waitFn){return}whenLoadedFns.push(waitFn);if(polyfillsLoaded){runWhenLoadedFns()}}};var checkES6=function(){try{new Function("(a = 0) => a");return true}catch(err){return false}};var loadWC=function(){if(wc&&wc.length){wc.forEach(function(component){if(component.match(/\.js/g)){var el=document.createElement("script");if(!checkES6()){var es5;if(component.match(/\.min\.js/g)){es5=component.replace(/\.min\.js/g,"-es5.min.js")}else if(component.match(/\.js/g)){es5=component.replace(/\.js/g,"-es5.js")}el.src=es5}else{el.src=component}}if(el){document.head.appendChild(el)}})}};var name="core.min.js";var script=document.querySelector('script[src*="'+name+'"]');if(!script){name="core.js";script=document.querySelector('script[src*="'+name+'"]')}if(!script){throw new Error("core(.min).js is not registered correctly!")}var polyfills=[];if(!("attachShadow"in Element.prototype&&"getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force){polyfills.push("sd")}if(!window.customElements||window.customElements.forcePolyfill){polyfills.push("ce")}var needsTemplate=function(){var t=document.createElement("template");if(!("content"in t)){return true}if(!(t.content.cloneNode()instanceof DocumentFragment)){return true}var t2=document.createElement("template");t2.content.appendChild(document.createElement("div"));t.content.appendChild(t2);var clone=t.cloneNode(true);return clone.content.childNodes.length===0||clone.content.firstChild.content.childNodes.length===0}();if(!window.Promise||!Array.from||!window.URL||!window.Symbol||needsTemplate){polyfills=["sd-ce-pf"]}if(polyfills.length){var newScript=document.createElement("script");var replacement="media/vendor/webcomponentsjs/js/webcomponents-"+polyfills.join("-")+".min.js";var mediaVersion=script.src.match(/\?.*/)[0];var base=Joomla.getOptions("system.paths");if(!base){throw new Error("core(.min).js is not registered correctly!")}newScript.src=base.rootFull+replacement+(mediaVersion?mediaVersion:"");if(document.readyState==="loading"){newScript.setAttribute("onload","window.WebComponents._batchCustomElements()");document.write(newScript.outerHTML);document.addEventListener("DOMContentLoaded",ready)}else{newScript.addEventListener("load",function(){asyncReady()});newScript.addEventListener("error",function(){throw new Error("Could not load polyfill bundle"+url)});document.head.appendChild(newScript)}}else{polyfillsLoaded=true;if(document.readyState==="complete"){fireEvent()}else{window.addEventListener("load",ready);window.addEventListener("DOMContentLoaded",function(){window.removeEventListener("load",ready);ready()})}}}})(Joomla,document);(function(window,Joomla){"use strict";if(Joomla.Event){return}Joomla.Event={};Joomla.Event.dispatch=function(element,name,params){if(typeof element==="string"){params=name;name=element;element=window}params=params||{};var event;if(window.CustomEvent&&typeof window.CustomEvent==="function"){event=new CustomEvent(name,{detail:params,bubbles:true,cancelable:true})}else{event=document.createEvent("Event");event.initEvent(name,true,true);event.detail=params}element.dispatchEvent(event)};Joomla.Event.listenOnce=function(element,name,callback){var onceCallback=function(event){element.removeEventListener(name,onceCallback);return callback.call(element,event)};element.addEventListener(name,onceCallback)}})(window,Joomla);document.addEventListener("DOMContentLoaded",function(){Joomla.WebComponents()});
